--- /root/parts/lxcfs/install/snap/lxd/current/lxcfs/lxc.mount.hook	2022-03-23 22:47:13.153225112 +0000
+++ lxc.mount.hook	2022-03-23 23:23:21.614527054 +0000
@@ -31,8 +31,10 @@ if [ -d /var/snap/lxd/common/var/lib/lxc
 fi
 
 # Allow nesting lxcfs
-if [ -d ${LXC_ROOTFS_MOUNT}/var/lib/lxcfs/ ]; then
-    mount -n --bind /var/snap/lxd/common/var/lib/lxcfs ${LXC_ROOTFS_MOUNT}/var/lib/lxcfs/
+if [ -d "${LXC_ROOTFS_MOUNT}/var/snap/lxd/" ]; then
+    rm -Rf "${LXC_ROOTFS_MOUNT}/var/snap/lxd/common/var/lib/lxcfs"
+    mkdir -p "${LXC_ROOTFS_MOUNT}/var/snap/lxd/common/var/lib/lxcfs"
+    mount -n --bind /var/snap/lxd/common/var/lib/lxcfs "${LXC_ROOTFS_MOUNT}/var/snap/lxd/common/var/lib/lxcfs/"
 fi
 
 # no need for lxcfs cgroups if we have cgroup namespaces
